#include "memo.h"
#include "25lc640.h"
#include "LPC17xx.H"
#include "main.h"
#include "eeprom_map.h"

//-----------------------------------------------
void memo_read (void)
{

Ktsrc[0]=lc640_read_int(KTSRC1);

Ktsrc[1]=lc640_read_int(KTSRC2);
Kusrc[0]=lc640_read_int(KUSRC1);
Kusrc[1]=lc640_read_int(KUSRC2);
Kisrc[0]=lc640_read_int(KISRC1);
Kisrc[1]=lc640_read_int(KISRC2);
Ki0src[0]=lc640_read_int(KI0SRC1);
Ki0src[1]=lc640_read_int(KI0SRC2);

Kubat=lc640_read_int(KUBAT);
Kibat0=lc640_read_int(EE_KIBAT0);
Kibat1=lc640_read_int(KIBAT1);
Ktbat=lc640_read_int(KTBAT);
Kunet=lc640_read_int(KUNET);

Ktout[0]=lc640_read_int(KTOUT0);
Ktout[1]=lc640_read_int(KTOUT1);
Ktout[2]=lc640_read_int(KTOUT2);
	
MAIN_IST=lc640_read_int(EE_MAIN_IST);
UMAX=lc640_read_int(EE_UMAX);
UB0=lc640_read_int(EE_UB0);
UB20=lc640_read_int(EE_UB20);
TMAX=lc640_read_int(EE_TMAX);
//C_BAT=lc640_read_int(EE_C_BAT);
USIGN=lc640_read_int(EE_USIGN);
UMN=lc640_read_int(EE_UMN);
ZV_ON=lc640_read_int(EE_ZV_ON);
IKB=lc640_read_int(EE_IKB);
KVZ=lc640_read_int(EE_KVZ);
/*IMAX=lc640_read_int(EE_IMAX);
KIMAX=lc640_read_int(EE_KIMAX);
APV_ON=lc640_read_int(EE_APV_ON);
IZMAX=lc640_read_int(EE_IZMAX);
U0B=lc640_read_int(EE_U0B);	 
TZAS=lc640_read_int(EE_TZAS);
NUMIST=lc640_read_int(EE_NUMIST);
AV_OFF_AVT=lc640_read_int(EE_AV_OFF_AVT);
MNEMO_ON=lc640_read_int(EE_MNEMO_ON);
MNEMO_TIME=lc640_read_int(EE_MNEMO_TIME);

BAT_IS_ON=lc640_read_int(EE_BAT_IS_ON);
if(BAT_IS_ON==bisON)NUMBAT=1;
else NUMBAT=0; 
BAT_DAY_OF_ON=lc640_read_int(EE_BAT_DAY_OF_ON);
BAT_MONTH_OF_ON=lc640_read_int(EE_BAT_MONTH_OF_ON);
BAT_YEAR_OF_ON=lc640_read_int(EE_BAT_YEAR_OF_ON);
BAT_C_REAL=lc640_read_int(EE_BAT_C_REAL);
BAT_C_NOM=lc640_read_int(EE_BAT_C_NOM);
BAT_RESURS=lc640_read_int(EE_BAT_RESURS);
apv_on1=lc640_read_int(EE_APV_ON1);
apv_on2=lc640_read_int(EE_APV_ON2);
apv_on2_time=lc640_read_int(EE_APV_ON2_TIME);
VZ_HR=lc640_read_int(EE_VZ_HR);
TBAT=lc640_read_int(EE_TBAT);
NUMDT=lc640_read_int(EE_NUMDT);
NUMSK=lc640_read_int(EE_NUMSK);

*/
if((ind==iMn)||(ind==iAusw)||(ind==iAusw_set))
	{
	AUSW_MAIN=lc640_read_int(EE_AUSW_MAIN);
	AUSW_MAIN_NUMBER=lc640_read_long(EE_AUSW_MAIN_NUMBER);
	AUSW_DAY=lc640_read_int(EE_AUSW_DAY);
	AUSW_MONTH=lc640_read_int(EE_AUSW_MONTH);
	AUSW_YEAR=lc640_read_int(EE_AUSW_YEAR);
	AUSW_BPS1_NUMBER=lc640_read_long(EE_AUSW_BPS1_NUMBER);
	AUSW_BPS2_NUMBER=lc640_read_long(EE_AUSW_BPS2_NUMBER);
	AUSW_RS232=lc640_read_int(EE_AUSW_RS232);
	AUSW_PDH=lc640_read_int(EE_AUSW_PDH);
	AUSW_SDH=lc640_read_int(EE_AUSW_SDH);
	AUSW_ETH=lc640_read_int(EE_AUSW_ETH);
	AUSW_UKU=lc640_read_int(EE_AUSW_UKU);
	AUSW_UKU_SUB=lc640_read_int(EE_AUSW_UKU_SUB);
	AUSW_UKU_NUMBER=lc640_read_long(EE_AUSW_UKU_NUMBER);			
	}

TMAX_EXT_EN[0]=lc640_read_int(EE_TMAX_EXT_EN0);
TMAX_EXT[0]=lc640_read_int(EE_TMAX_EXT0);
TMIN_EXT_EN[0]=lc640_read_int(EE_TMIN_EXT_EN0);
TMIN_EXT[0]=lc640_read_int(EE_TMIN_EXT0);	
T_EXT_REL_EN[0]=lc640_read_int(EE_T_EXT_REL_EN0);
T_EXT_ZVUK_EN[0]=lc640_read_int(EE_T_EXT_ZVUK_EN0);
T_EXT_LCD_EN[0]=lc640_read_int(EE_T_EXT_LCD_EN0);
T_EXT_RS_EN[0]=lc640_read_int(EE_T_EXT_RS_EN0);

SK_SIGN[0]=lc640_read_int(EE_SK_SIGN0);
SK_REL_EN[0]=lc640_read_int(EE_SK_REL_EN0);
SK_ZVUK_EN[0]=lc640_read_int(EE_SK_ZVUK_EN0);
SK_LCD_EN[0]=lc640_read_int(EE_SK_LCD_EN0);	
SK_RS_EN[0]=lc640_read_int(EE_SK_RS_EN0);
SK_SIGN[1]=lc640_read_int(EE_SK_SIGN1);
SK_REL_EN[1]=lc640_read_int(EE_SK_REL_EN1);
SK_ZVUK_EN[1]=lc640_read_int(EE_SK_ZVUK_EN1);
SK_LCD_EN[1]=lc640_read_int(EE_SK_LCD_EN1);	
SK_RS_EN[1]=lc640_read_int(EE_SK_RS_EN1);

AVZ=(char)(lc640_read_int(EE_AVZ));
AVZ_TIME=lc640_read_int(EE_AVZ_TIME);
HOUR_AVZ=lc640_read_int(EE_HOUR_AVZ);
MIN_AVZ=lc640_read_int(EE_MIN_AVZ);
SEC_AVZ=lc640_read_int(EE_SEC_AVZ);
DATE_AVZ=lc640_read_int(EE_DATE_AVZ);
MONTH_AVZ=lc640_read_int(EE_MONTH_AVZ);
if(!((MONTH_AVZ>0)&&(MONTH_AVZ<13)))MONTH_AVZ=0;
YEAR_AVZ=lc640_read_int(EE_YEAR_AVZ); 

}


